!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);var o={qrCods:document.getElementById("qrCods"),appStoreText:document.getElementById("appStoreText"),qrCodsCloseBtn:document.getElementById("qrCodsClose"),googlePlayText:document.getElementById("googlePlayText"),showAppStoreBtn:document.getElementById("showAppStore"),popUpBackground:document.getElementById("darkPop"),qrCodAppStoreImg:document.getElementById("appStoreQr"),showGooglePlayBtn:document.getElementById("showGooglePlay"),qrCodGooglePlayImg:document.getElementById("googlePayQr"),container:document.getElementById("container"),verificationModalWindow:document.getElementById("verificationModal")};const a=()=>{o.popUpBackground.style.display="none",o.qrCods.style.display="none",o.qrCodAppStoreImg.style.display="none",o.appStoreText.style.display="none",o.qrCodGooglePlayImg.style.display="none",o.googlePlayText.style.display="none"},i=()=>{o.showGooglePlayBtn.addEventListener("click",(function(e){o.popUpBackground.style.display="flex",o.qrCods.style.display="flex",o.qrCodGooglePlayImg.style.display="flex",o.googlePlayText.style.display="block"})),o.showAppStoreBtn.addEventListener("click",(function(e){o.popUpBackground.style.display="flex",o.qrCods.style.display="flex",o.qrCodAppStoreImg.style.display="flex",o.appStoreText.style.display="block"})),o.qrCodsCloseBtn.addEventListener("click",(function(){a()})),o.popUpBackground.addEventListener("click",(function(){"flex"!=o.verificationModalWindow.style.display&&a()})),o.qrCods.addEventListener("click",(function(e){e.stopPropagation()}))};var r={btnClose:document.getElementById("mobCloseBtn"),popBackground:document.getElementById("darkPop")};const l=()=>{r.btnClose.addEventListener("click",(function(){r.popBackground.style.display="none"}))};var s={isValid:null,loginValidateRegExp:/[A-Za-z\-_]/,logInBtn:document.getElementById("submit"),deviceName:document.getElementById("deviceName"),userNameValidate:document.getElementById("login"),userPasswordValidate:document.getElementById("pass"),notCorrectValidation:document.getElementById("error1"),errorAuthorization:document.getElementById("error2")};const d=e=>!(e.length<6||e.length>20),c=e=>{"flex"===s.errorAuthorization.style.display&&(s.errorAuthorization.style.display="none"),e.style.display="flex"};var g={formData:null,form:document.getElementById("form"),modal:document.getElementById("darkPop"),xhttp:new XMLHttpRequest,errorAuthorization:document.getElementById("error2"),notCorrectValidation:document.getElementById("error1"),person:{}},u={modal:document.getElementById("darkPop"),errorBigText:document.getElementById("errorBigText"),invalidModalBtn:document.getElementById("invalidModalBtn"),verificationBtn:document.getElementById("verificationBtn"),verificationForm:document.getElementById("verificationForm"),verificationInput:document.getElementById("verificationInput"),verificationXhttp:new XMLHttpRequest,verificationModalWindow:document.getElementById("verificationModal"),errorVerificationModalWindow:document.getElementById("invalidModal"),verificationformData:null},p={cookiesXhttp:new XMLHttpRequest};const y=()=>{p.cookiesForm=new FormData(p.formForCookies),p.cookiesXhttp.open("GET","/session.js",!0),p.cookiesXhttp.send(),p.cookiesXhttp.onreadystatechange=function(){4==this.readyState&&200==this.status&&"true"==u.verificationXhttp.response&&(self.location="public/dashboardPage/dashboard.html"),404==u.verificationXhttp.status&&alert("file or resourse not found")}},f=()=>{u.verificationformData=new FormData(u.verificationForm),u.verificationXhttp.open("POST","/verification.js",!0),u.verificationXhttp.setRequestHeader("Content-Type","application/json;charset=UTF-8");const e={verification:u.verificationformData.get("verification")};u.verificationXhttp.send(JSON.stringify(e)),u.verificationXhttp.onreadystatechange=function(){4==this.readyState&&200==this.status?"true"==u.verificationXhttp.response?y():m():404==u.verificationXhttp.status&&alert("file or resourse not found")}},m=()=>{u.verificationModalWindow.style.display="none",u.errorVerificationModalWindow.style.display="flex",u.errorBigText.style.marginTop="25px",u.errorBigText.innerHTML="Verification code error"},v=()=>{g.formData=new FormData(g.form),g.xhttp.open("POST","/authorization.js",!0),g.xhttp.setRequestHeader("Content-Type","application/json;charset=UTF-8");const e={login:g.formData.get("login"),deviceName:g.formData.get("device-name"),password:g.formData.get("password")};g.xhttp.send(JSON.stringify(e)),g.xhttp.onreadystatechange=function(){4==this.readyState&&200==this.status&&("true"==g.xhttp.response?(u.modal.style.display="flex",u.verificationModalWindow.style.display="flex"):("flex"===s.notCorrectValidation.style.display&&(s.notCorrectValidation.style.display="none"),g.errorAuthorization.style.display="flex")),404==g.xhttp.status&&alert("file or resourse not found")}},h=()=>{s.logInBtn.addEventListener("click",(function(e){e.preventDefault(),((e,t,n,o,a)=>{if(""===e.value||""===n.value||""===o.value)return c(a),!1;for(let o=0;o<e.value.length;o++)if(s.isValid=t.test(e.value[o]),!1===s.isValid||!d(n.value)||e.value.length>20)return c(a),!1;return!0})(s.userNameValidate,s.loginValidateRegExp,s.userPasswordValidate,s.deviceName,s.notCorrectValidation)&&v()}))};var B={iconOn:document.getElementById("viewPassOn"),iconOff:document.getElementById("viewPassOff"),inputPass:document.getElementById("pass")};const E=(e,t,n)=>{"Password"===n.getAttribute("type")?n.setAttribute("type","text"):n.setAttribute("type","Password"),t.style.display="block",e.style.display="none"},w=()=>{B.iconOff.addEventListener("click",(function(){E(B.iconOff,B.iconOn,B.inputPass)})),B.iconOn.addEventListener("click",(function(){E(B.iconOn,B.iconOff,B.inputPass)})),h(),u.verificationBtn.addEventListener("click",(function(e){e.preventDefault(),f()})),u.invalidModalBtn.addEventListener("click",(function(){u.modal.style.display="none",u.errorVerificationModalWindow.style.display="none",u.verificationInput.value=""}))};var I={language:null,arrLang:{RU:{logo:"Online Wallet",forInput:"Для входа необходимо скачать мобильное приложение и зарегистрироваться.",alreadyRegistered:"Если вы уже зарегистрированы, пожалуйста, введите ваши данные и нажмите кнопку Войти.",showQr:"Показать QR-код",loginTitle:"Вход",loginInput:"Логин",deviceName:"Имя устройства",password:"Пароль",submitButton:"Войти",error1:"Логин, имя устройства или пароль неверны.",error2:"Введенное имя пользователя или устройства не соответствует ни одной учетной записи.",error3:"Код введен неправильно",appSotreQr:"Отсканируйте QR код, чтобы перейти в <br> App Store",googlePlayQr:"Отсканируйте QR код, чтобы перейти в <br> App Store",verificationTitle:"Введите код подтверждения",verificationText:"Пожалуйста, введите 6-значный код, который мы только что отправили на ваш номер + XXXXXXXX653",verificationCode:"Код",submitVerification:"Подтвердить"},EN:{logo:"Online Wallet",forInput:"For login you have to download the mobile app and be registered in.",alreadyRegistered:"If you have already registered please enter your data and click Log in button.",showQr:"Show QR-cpde ",loginTitle:"Log In",loginInput:"Login",deviceName:"Device Name",password:"Password",submitButton:"LOG IN",error1:"The login, device name or password is not correct.",error2:"The login or device name you've entered doesn't match any account.",appSotreQr:"Scan the QR code to go to <br> App Store",googlePlayQr:"Scan the QR code to go to <br> Play Market",error3:"The code is entered incorrectly ",verificationTitle:"Enter verification code",verificationText:"Please enter the 6 digit code we just sent to your number +XXXXXXXX653",verificationCode:"Code",submitVerification:"SUBMIT"}},translatedEl:document.querySelectorAll(".translate"),languageSwitcherBtn:document.getElementById("languageSwitcher"),languages:document.getElementsByClassName("all-languages__language")};const L=e=>{I.language=I.arrLang[e];for(let e of I.translatedEl)e.innerHTML=I.language[e.getAttribute("key")]},x=()=>{for(let e of I.languages)e.addEventListener("click",(function(t){L(e.getAttribute("id")),I.languageSwitcherBtn.innerHTML=t.target.textContent}))};var b={main:document.getElementById("main"),arrow:document.getElementById("arrow"),languages:document.getElementsByClassName("all-languages__language"),allLanguages:document.getElementById("allLanguages"),languageSwitcherBtn:document.getElementById("languageSwitcher"),container:document.getElementById("container")};const k=(e,t)=>{(e=>{for(let t=0;t<e.length;t++)if(e[t].classList.contains("language-switcher__all-languages--selected")){e[t].classList.toggle("language-switcher__all-languages--selected");break}b.allLanguages.classList.toggle("active-language_switcher")})(t),e.classList.add("language-switcher__all-languages--selected"),b.languageSwitcherBtn.innerHTML=e.textContent},S=e=>{e.classList.toggle("active-language_switcher")},P=()=>{b.languageSwitcherBtn.addEventListener("click",(function(e){C(e)})),b.arrow.addEventListener("click",(function(e){C(e)}));for(let e=0;e<b.languages.length;e++)b.languages[e].addEventListener("click",(function(){k(b.languages[e],b.languages),b.arrow.classList.toggle("rotateArrow")}));b.container.addEventListener("click",(function(e){b.allLanguages.classList.contains("active-language_switcher")&&(b.allLanguages.classList.toggle("active-language_switcher"),b.arrow.classList.toggle("rotateArrow"))}))};function C(e){e.stopPropagation(),S(b.allLanguages),b.arrow.classList.toggle("rotateArrow")}document.addEventListener("DOMContentLoaded",(function(){i(),w(),x(),l(),P()}))}]);
//# sourceMappingURL=main.js.map